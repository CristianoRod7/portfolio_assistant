{% extends "base.html" %}
{% block content %}

<div class="d-flex justify-content-between align-items-end mb-4">
  <div>
    <h1 class="h3 fw-bold mb-1">Dashboard</h1>
    <p class="text-secondary small mb-0">λ‚΄ ν¬νΈν΄λ¦¬μ¤ ν„ν™©ν</p>
  </div>
  <a href="{{ url_for('add') }}" class="btn btn-ai btn-sm px-3">+ μƒ ν™λ™ μ¶”κ°€</a>
</div>

<div class="row g-3">
  
  <div class="col-12 col-lg-8">
    <div class="row g-3 h-100">
      <div class="col-md-4">
        <div class="card card-dark p-4 h-100 d-flex flex-column justify-content-center text-center">
          <span class="display-5 fw-bold text-white">{{ total_count or 0 }}</span>
          <span class="small text-secondary text-uppercase tracking-wider">Projects</span>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card card-dark p-4 h-100 d-flex flex-column justify-content-center text-center">
          <span class="display-5 fw-bold text-white">{{ total_hours or 0 }}</span>
          <span class="small text-secondary text-uppercase tracking-wider">Hours</span>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card card-dark p-4 h-100 d-flex flex-column justify-content-center text-center">
          <span class="display-5 fw-bold text-white">{{ categories|length }}</span>
          <span class="small text-secondary text-uppercase tracking-wider">Categories</span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-4">
    <div class="card card-dark p-4 h-100">
      <h6 class="text-uppercase text-secondary small fw-bold mb-3">AI Tools</h6>
      <div class="d-grid gap-2">
        <a href="{{ url_for('analyze') }}" class="btn btn-outline-light btn-sm text-start">
          π”® μ „μ²΄ ν¬νΈν΄λ¦¬μ¤ μ§„λ‹¨
        </a>
        <a href="{{ url_for('company_analyze') }}" class="btn btn-outline-light btn-sm text-start">
          πΆ κΈ°μ—…λ³„ ν•©κ²© ν™•λ¥  λ¶„μ„
        </a>
        <a href="{{ url_for('resume') }}" class="btn btn-outline-light btn-sm text-start">
          π“„ μ΄λ ¥μ„ μλ™ μƒμ„±
        </a>
      </div>
    </div>
  </div>

  <div class="col-12">
    <div class="card card-dark p-4">
      <h5 class="mb-4 fw-bold">Recent Activities</h5>
      {% if experiences %}
      <div class="table-responsive">
        <table class="table table-dark table-hover mb-0" style="--bs-table-bg: transparent;">
          <thead>
            <tr class="text-secondary small text-uppercase">
              <th>Status</th>
              <th>Title</th>
              <th>Category</th>
              <th>Duration</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for exp in experiences %}
            <tr>
              <td class="align-middle">
                <span class="badge rounded-pill bg-{{ exp.status_color }} bg-opacity-10 text-{{ exp.status_color }}">
                  {{ exp.status_label }}
                </span>
              </td>
              <td class="align-middle fw-semibold">{{ exp.title }}</td>
              <td class="align-middle text-secondary small">{{ exp.category }}</td>
              <td class="align-middle text-secondary small">
                {{ exp.start_date }} ~
              </td>
              <td class="text-end">
                <a href="{{ url_for('experience_detail', exp_id=exp.id) }}" class="btn btn-sm btn-link text-decoration-none text-white">View β†’</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
        <div class="text-center py-5 text-secondary">
          μ•„μ§ λ“±λ΅λ ν™λ™μ΄ μ—†μµλ‹λ‹¤. <br>μ°μΈ΅ μƒλ‹¨ λ²„νΌμ„ λλ¬ μ¶”κ°€ν•΄λ³΄μ„Έμ”!
        </div>
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}