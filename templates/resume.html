{% extends "base.html" %}
{% block content %}

<h2 class="h4 mb-4 fw-bold">ğŸ“„ ì´ë ¥ì„œ í•µì‹¬ ê²½ë ¥ ìƒì„±</h2>

<div class="card card-dark p-4 mb-4">
  <form method="post" class="row g-3 align-items-end">
    <div class="col-md-5">
      <label class="form-label text-secondary small">íƒ€ê²Ÿ íšŒì‚¬ (ì„ íƒ)</label>
      <select name="company" class="form-select bg-dark text-white border-secondary">
        <option value="">ì¼ë°˜ (íŠ¹ì • ê¸°ì—… ì§€ì • ì•ˆ í•¨)</option>
        {% for c in company_options %}
          <option value="{{ c }}" {% if target_company == c %}selected{% endif %}>{{ c }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-5">
      <label class="form-label text-secondary small">íƒ€ê²Ÿ ì§ë¬´</label>
      <input type="text" name="role" class="form-control bg-dark text-white border-secondary"
             placeholder="ì˜ˆ) SW ì—”ì§€ë‹ˆì–´" value="{{ target_role or '' }}">
    </div>
    <div class="col-md-2">
      <button type="submit" class="btn btn-ai w-100">ìƒì„±</button>
    </div>
  </form>
</div>

{% if error_msg %}
<div class="alert alert-danger bg-transparent border-danger text-danger">
  {{ error_msg }}
</div>
{% endif %}

{% if resume_text %}
<div class="d-flex justify-content-between align-items-center mb-2">
  <span class="small text-secondary">ğŸ’¡ ì´ ë‚´ìš©ì„ ì´ë ¥ì„œ ìƒë‹¨ 'í•µì‹¬ ì—­ëŸ‰' ë€ì— ë³µì‚¬í•´ì„œ ì“°ì„¸ìš”.</span>
  <button type="button" class="btn btn-sm btn-outline-light" onclick="window.print()">PDF ì €ì¥</button>
</div>

<div class="card card-dark p-4 border-light border-opacity-25">
  <div class="markdown-body">
    {{ resume_text | safe }}
  </div>
</div>
{% endif %}

{% endblock %}